(function(D){var T=0;var w=1;var N=0;var V={TL:N++,TC:N++,TR:N++,BL:N++,BC:N++,BR:N++,LT:N++,LC:N++,LB:N++,RT:N++,RC:N++,RB:N++};N=0;var u={"block.top":N,blockExpandDown:N++,"block.bottom":N,blockExpandUp:N++,"block.left":N,blockExpandRight:N++,"block.right":N,blockExpandLeft:N++,"diag.fade":N,diagonalFade:N++,"diag.exp":N,diagonalExpand:N++,"rev.diag.fade":N,reverseDiagonalFade:N++,"rev.diag.exp":N,reverseDiagonalExpand:N++,"block.fade":N,blockRandomFade:N++,"block.exp":N,blockRandomExpand:N++,"block.drop":N,blockRandomDrop:N++,"block.top.zz":N,zigZagDown:N++,"block.bottom.zz":N,zigZagUp:N++,"block.left.zz":N,zigZagRight:N++,"block.right.zz":N,zigZagLeft:N++,"spiral.in":N,spiralIn:N++,"spiral.out":N,spiralOut:N++,"vert.tl":N,sliceDownRight:N++,"vert.tr":N,sliceDownLeft:N++,"vert.bl":N,sliceUpRight:N++,"vert.br":N,sliceUpLeft:N++,"fade.left":N,sliceFadeRight:N++,"fade.right":N,sliceFadeLeft:N++,"alt.left":N,sliceAltRight:N++,"alt.right":N,sliceAltLeft:N++,"blinds.left":N,blindsRight:N++,"blinds.right":N,blindsLeft:N++,"vert.random.fade":N,verticalSliceRandomFade:N++,"horz.tl":N,sliceRightDown:N++,"horz.tr":N,sliceLeftDown:N++,"horz.bl":N,sliceRightUp:N++,"horz.br":N,sliceLeftUp:N++,"fade.top":N,sliceFadeDown:N++,"fade.bottom":N,sliceFadeUp:N++,"alt.top":N,sliceAltDown:N++,"alt.bottom":N,sliceAltUp:N++,"blinds.top":N,blindsDown:N++,"blinds.bottom":N,blindsUp:N++,"horz.random.fade":N,horizontalSliceRandomFade:N++,none:N++,fade:N++,crossFade:N++,"h.slide":N,horizontalSlide:N++,"v.slide":N,verticalSlide:N++,random:N++};var o=N;N=0;var n={none:N++,fade:N++,down:N,expandDown:N++,right:N,expandRight:N++,up:N,expandUp:N++,left:N,expandLeft:N++,moveDown:N++,moveRight:N++,moveUp:N++,moveLeft:N++};var C=250;var G=75;var F=50;var d=5000;var B=800;var P=500;var J=4;var h=50;var E="updateLayers";var e="resetLayers";var r="updatelist";var A=/MSIE (\d+\.\d+);/.test(navigator.userAgent);var l=b(7);var O=new Array();O.linear="cubic-bezier(0.250, 0.250, 0.750, 0.750)";O[""]=O.swing="cubic-bezier(0.250, 0.100, 0.250, 1.000)";O.easeInQuad="cubic-bezier(0.550, 0.085, 0.680, 0.530)";O.easeOutQuad="cubic-bezier(0.250, 0.460, 0.450, 0.940)";O.easeInOutQuad="cubic-bezier(0.455, 0.030, 0.515, 0.955)";O.easeInCubic="cubic-bezier(0.550, 0.055, 0.675, 0.190)";O.easeOutCubic="cubic-bezier(0.215, 0.610, 0.355, 1.000)";O.easeInOutCubic="cubic-bezier(0.645, 0.045, 0.355, 1.000)";O.easeInQuart="cubic-bezier(0.895, 0.030, 0.685, 0.220)";O.easeOutQuart="cubic-bezier(0.165, 0.840, 0.440, 1.000)";O.easeInOutQuart="cubic-bezier(0.770, 0.000, 0.175, 1.000)";O.easeInQuint="cubic-bezier(0.755, 0.050, 0.855, 0.060)";O.easeOutQuint="cubic-bezier(0.230, 1.000, 0.320, 1.000)";O.easeInOutQuint="cubic-bezier(0.860, 0.000, 0.070, 1.000)";O.easeInSine="cubic-bezier(0.470, 0.000, 0.745, 0.715)";O.easeOutSine="cubic-bezier(0.390, 0.575, 0.565, 1.000)";O.easeInOutSine="cubic-bezier(0.445, 0.050, 0.550, 0.950)";O.easeInExpo="cubic-bezier(0.950, 0.050, 0.795, 0.035)";O.easeOutExpo="cubic-bezier(0.190, 1.000, 0.220, 1.000)";O.easeInOutExpo="cubic-bezier(1.000, 0.000, 0.000, 1.000)";O.easeInCirc="cubic-bezier(0.600, 0.040, 0.980, 0.335)";O.easeOutCirc="cubic-bezier(0.075, 0.820, 0.165, 1.000)";O.easeInOutCirc="cubic-bezier(0.785, 0.135, 0.150, 0.860)";O.easeInBack="cubic-bezier(0.600, -0.280, 0.735, 0.045)";O.easeOutBack="cubic-bezier(0.175, 0.885, 0.320, 1.275)";O.easeInOutBack="cubic-bezier(0.680, -0.550, 0.265, 1.550)";var Q={transition:"transitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};var M={transition:"transition",MozTransition:"-moz-transition",WebkitTransition:"-webkit-transition"};var y=H("transition");var U="trsn";var m="randTrsn";var c="diagTrsn";var v="zigzagTrsn";var p="dirTrsn";var K="spiralTrsn";var q="clearTrsn";function a(W){this._$stripes;this._arr;this._total;this._intervalId=null;this._rotator=W;this._areaWidth=W._screenWidth;this._areaHeight=W._screenHeight;this._size=W._vertSize;this._delay=W._vertDelay;this.init()}a.prototype.init=function(){this._total=Math.ceil(this._areaWidth/this._size);if(this._total>C){this._size=Math.ceil(this._areaWidth/C);this._total=Math.ceil(this._areaWidth/this._size)}var X="";for(var W=0;W<this._total;W++){X+="<div class='vpiece' id='"+W+"' style='left:"+(W*this._size)+"px; height:"+this._areaHeight+"px'></div>"}this._rotator.addToScreen(X);this._$stripes=this._rotator._$screen.find("div.vpiece");this._arr=this._$stripes.toArray();if(false!==y&&false!==this._rotator._cssTrsn){D(this).bind(U,this.cssAnimate).bind(m,this.cssRandom).bind(q,this.cssClear)}else{D(this).bind(U,this.jsAnimate).bind(m,this.jsRandom).bind(q,this.jsClear)}};a.prototype.clear=function(){D(this).trigger(q)};a.prototype.jsClear=function(){clearInterval(this._intervalId);this._intervalId=null;this._$stripes.stop(true).css({"z-index":2,opacity:0})};a.prototype.cssClear=function(){this._$stripes.unbind(Q[y]).cssTransitionStop(false).css({"z-index":2,opacity:0,display:"none"})};a.prototype.displayContent=function(W,X,Y,Z){this.setPieces(W,X);if(X==u.verticalSliceRandomFade){D(this).trigger(m,[W,Y,Z])}else{this.animate(W,X,Y,Z)}};a.prototype.setPieces=function(W,X){switch(X){case u.sliceDownRight:case u.sliceDownLeft:this.setVertPieces(W,-this._areaHeight,1,this._size,false);break;case u.sliceUpRight:case u.sliceUpLeft:this.setVertPieces(W,this._areaHeight,1,this._size,false);break;case u.sliceAltRight:case u.sliceAltLeft:this.setVertPieces(W,0,1,this._size,true);break;case u.blindsRight:case u.blindsLeft:this.setVertPieces(W,0,1,0,false);break;default:this.setVertPieces(W,0,0,this._size,false)}};a.prototype.setVertPieces=function(W,ad,ae,Z,ac){var ag=W.attr("src");var af=0;var Y=0;if(this._rotator._autoCenter){af=(this._areaHeight-W.height())/2;Y=(this._areaWidth-W.width())/2}for(var aa=0;aa<this._total;aa++){var X=this._$stripes.eq(aa);var ab=((-aa*this._size)+Y);if(ac){ad=(aa%2)==0?-this._areaHeight:this._areaHeight}X.css({background:"url('"+ag+"') no-repeat",backgroundPosition:ab+"px "+af+"px",opacity:ae,top:ad,width:Z,"z-index":3})}};a.prototype.animate=function(X,Y,Z,ac){var ab,W,aa;switch(Y){case u.sliceDownRight:case u.sliceUpRight:case u.sliceFadeRight:case u.blindsRight:case u.sliceAltRight:ab=0;W=this._total-1;aa=1;break;default:ab=this._total-1;W=0;aa=-1}D(this).trigger(U,[X,Z,ac,ab,W,aa])};a.prototype.jsAnimate=function(aa,X,Z,ad,ac,W,ab){var Y=this;this._intervalId=setInterval(function(){Y._$stripes.eq(ac).animate({top:0,opacity:1,width:Y._size},Z,ad,function(){if(D(this).attr("id")==W){Y._rotator.showContent(X)}});if(ac==W){clearInterval(Y._intervalId);Y._intervalId=null}ac+=ab},this._delay)};a.prototype.cssAnimate=function(ac,W,Z,ad,X,aa,Y){var ab=this;var ae=0;this._$stripes.show();while(true){this._$stripes.eq(X).cssTransition({top:0,opacity:1,width:this._size},Z,ad,ae,function(){if(D(this).attr("id")==aa){ab._rotator.showContent(W)}});if(X==aa){break}X+=Y;ae+=this._delay}};a.prototype.jsRandom=function(ab,X,aa,ac){var Z=this;s(this._arr);var W=0;var Y=0;this._intervalId=setInterval(function(){D(Z._arr[W++]).animate({opacity:1},aa,ac,function(){if(++Y==Z._total){Z._rotator.showContent(X)}});if(W==Z._total){clearInterval(Z._intervalId);Z._intervalId=null}},this._delay)};a.prototype.cssRandom=function(ab,X,aa,ac){var Z=this;var Y=0;s(this._arr);this._$stripes.show();for(var W=0;W<=this._total;W++){D(this._arr[W]).cssTransition({opacity:1},aa,ac,W*this._delay,function(){if(++Y==Z._total){Z._rotator.showContent(X)}})}};function x(W){this._$stripes;this._arr;this._total;this._intervalId=null;this._rotator=W;this._areaWidth=W._screenWidth;this._areaHeight=W._screenHeight;this._size=W._horzSize;this._delay=W._horzDelay;this.init()}x.prototype.init=function(){this._total=Math.ceil(this._areaHeight/this._size);if(this._total>C){this._size=Math.ceil(this._areaHeight/C);this._total=Math.ceil(this._areaHeight/this._size)}var X="";for(var W=0;W<this._total;W++){X+="<div class='hpiece' id='"+W+"' style='top:"+(W*this._size)+"px; width:"+this._areaWidth+"px'><!-- --></div>"}this._rotator.addToScreen(X);this._$stripes=this._rotator._$screen.find("div.hpiece");this._arr=this._$stripes.toArray();if(false!==y&&false!==this._rotator._cssTrsn){D(this).bind(U,this.cssAnimate).bind(m,this.cssRandom).bind(q,this.cssClear)}else{D(this).bind(U,this.jsAnimate).bind(m,this.jsRandom).bind(q,this.jsClear)}};x.prototype.clear=function(){D(this).trigger(q)};x.prototype.jsClear=function(){clearInterval(this._intervalId);this._intervalId=null;this._$stripes.stop(true).css({"z-index":2,opacity:0})};x.prototype.cssClear=function(){this._$stripes.unbind(Q[y]).cssTransitionStop(false).css({"z-index":2,opacity:0,display:"none"})};x.prototype.displayContent=function(W,X,Y,Z){this.setPieces(W,X);if(X==u.horizontalSliceRandomFade){D(this).trigger(m,[W,Y,Z])}else{this.animate(W,X,Y,Z)}};x.prototype.setPieces=function(W,X){switch(X){case u.sliceLeftDown:case u.sliceLeftUp:this.setHorzPieces(W,this._areaWidth,1,this._size,false);break;case u.sliceRightDown:case u.sliceRightUp:this.setHorzPieces(W,-this._areaWidth,1,this._size,false);break;case u.sliceAltDown:case u.sliceAltUp:this.setHorzPieces(W,0,1,this._size,true);break;case u.blindsDown:case u.blindsUp:this.setHorzPieces(W,0,1,0,false);break;default:this.setHorzPieces(W,0,0,this._size,false)}};x.prototype.setHorzPieces=function(W,aa,ad,af,ac){var ag=W.attr("src");var ae=0;var Y=0;if(this._rotator._autoCenter){ae=(this._areaHeight-W.height())/2;Y=(this._areaWidth-W.width())/2}for(var ab=0;ab<this._total;ab++){var X=this._$stripes.eq(ab);var Z=((-ab*this._size)+ae);if(ac){aa=(ab%2)==0?-this._areaWidth:this._areaWidth}X.css({background:"url('"+ag+"') no-repeat",backgroundPosition:Y+"px "+Z+"px",opacity:ad,left:aa,height:af,"z-index":3})}};x.prototype.animate=function(X,Y,Z,ac){var ab,W,aa;switch(Y){case u.sliceRightDown:case u.sliceLeftDown:case u.sliceFadeDown:case u.blindsDown:case u.sliceAltDown:ab=0;W=this._total-1;aa=1;break;default:ab=this._total-1;W=0;aa=-1}D(this).trigger(U,[X,Z,ac,ab,W,aa])};x.prototype.jsAnimate=function(aa,X,Z,ad,ac,W,ab){var Y=this;this._intervalId=setInterval(function(){Y._$stripes.eq(ac).animate({left:0,opacity:1,height:Y._size},Z,ad,function(){if(D(this).attr("id")==W){Y._rotator.showContent(X)}});if(ac==W){clearInterval(Y._intervalId);Y._intervalId=null}ac+=ab},this._delay)};x.prototype.cssAnimate=function(ac,W,Z,ad,X,aa,Y){var ab=this;var ae=0;this._$stripes.show();while(true){this._$stripes.eq(X).cssTransition({left:0,opacity:1,height:this._size},Z,ad,ae,function(){if(D(this).attr("id")==aa){ab._rotator.showContent(W)}});if(X==aa){break}X+=Y;ae+=this._delay}};x.prototype.jsRandom=function(ab,X,aa,ac){var Z=this;s(this._arr);var W=0;var Y=0;this._intervalId=setInterval(function(){D(Z._arr[W++]).animate({opacity:1},aa,ac,function(){if(++Y==Z._total){Z._rotator.showContent(X)}});if(W==Z._total){clearInterval(Z._intervalId);Z._intervalId=null}},this._delay)};x.prototype.cssRandom=function(ab,X,aa,ac){var Z=this;var Y=0;s(this._arr);this._$stripes.show();for(var W=0;W<=this._total;W++){D(this._arr[W]).cssTransition({opacity:1},aa,ac,W*this._delay,function(){if(++Y==Z._total){Z._rotator.showContent(X)}})}};function z(W){this._$blockArr;this._$blocks;this._arr;this._numRows;this._numCols;this._total;this._intervalId;this._rotator=W;this._areaWidth=W._screenWidth;this._areaHeight=W._screenHeight;this._size=W._blockSize;this._delay=W._blockDelay;this.init()}z.prototype.init=function(){this._numRows=Math.ceil(this._areaHeight/this._size);this._numCols=Math.ceil(this._areaWidth/this._size);this._total=this._numRows*this._numCols;if(this._total>C){this._size=Math.ceil(Math.sqrt((this._areaHeight*this._areaWidth)/C));this._numRows=Math.ceil(this._areaHeight/this._size);this._numCols=Math.ceil(this._areaWidth/this._size);this._total=this._numRows*this._numCols}var Z="";for(var Y=0;Y<this._numRows;Y++){for(var X=0;X<this._numCols;X++){Z+="<div class='block' id='"+Y+"-"+X+"'></div>"}}this._rotator.addToScreen(Z);this._$blocks=this._rotator._$screen.find("div.block");this._$blocks.data({tlId:"0-0",trId:"0-"+(this._numCols-1),blId:(this._numRows-1)+"-0",brId:(this._numRows-1)+"-"+(this._numCols-1)});var W=0;this._arr=this._$blocks.toArray();this._$blockArr=new Array(this._numRows);for(var Y=0;Y<this._numRows;Y++){this._$blockArr[Y]=new Array(this._numCols);for(var X=0;X<this._numCols;X++){this._$blockArr[Y][X]=this._$blocks.filter("#"+(Y+"-"+X)).data("top",Y*this._size)}}if(false!==y&&false!==this._rotator._cssTrsn){D(this).bind(U,this.cssAnimate).bind(c,this.cssDiagonal).bind(v,this.cssZigZag).bind(p,this.cssDirectional).bind(K,this.cssSpiral).bind(m,this.cssRandom).bind(q,this.cssClear)}else{D(this).bind(U,this.jsAnimate).bind(c,this.jsDiagonal).bind(v,this.jsZigZag).bind(p,this.jsDirectional).bind(K,this.jsSpiral).bind(m,this.jsRandom).bind(q,this.jsClear)}};z.prototype.clear=function(){D(this).trigger(q)};z.prototype.jsClear=function(){clearInterval(this._intervalId);this._intervalId=null;this._$blocks.stop(true).css({"z-index":2,opacity:0})};z.prototype.cssClear=function(){this._$blocks.unbind(Q[y]).cssTransitionStop(false).css({"z-index":2,opacity:0,display:"none"})};z.prototype.displayContent=function(W,X,Y,Z){switch(X){case u.diagonalFade:this.setBlocks(W,0,this._size,0);this.diagAnimate(W,{opacity:1},false,Y,Z);break;case u.diagonalExpand:this.setBlocks(W,0,0,0);this.diagAnimate(W,{opacity:1,width:this._size,height:this._size},false,Y,Z);break;case u.reverseDiagonalFade:this.setBlocks(W,0,this._size,0);this.diagAnimate(W,{opacity:1},true,Y,Z);break;case u.reverseDiagonalExpand:this.setBlocks(W,0,0,0);this.diagAnimate(W,{opacity:1,width:this._size,height:this._size},true,Y,Z);break;case u.blockRandomFade:this.setBlocks(W,0,this._size,0);D(this).trigger(m,[W,Y,Z]);break;case u.blockRandomExpand:this.setBlocks(W,1,0,0);D(this).trigger(m,[W,Y,Z]);break;case u.blockRandomDrop:this.setBlocks(W,1,this._size,-(this._numRows*this._size));D(this).trigger(m,[W,Y,Z]);break;case u.zigZagDown:case u.zigZagUp:case u.zigZagRight:case u.zigZagLeft:this.setBlocks(W,0,this._size,0);this.zigZagAnimate(W,X,Y,Z);break;case u.spiralIn:this.setBlocks(W,0,this._size,0);this.spiralAnimate(W,false,Y,Z);break;case u.spiralOut:this.setBlocks(W,0,this._size,0);this.spiralAnimate(W,true,Y,Z);break;default:this.setBlocks(W,1,0,0);this.dirAnimate(W,X,Y,Z)}};z.prototype.setBlocks=function(W,ac,ag,ab){var ad=0;var Y=0;if(this._rotator._autoCenter){ad=(this._areaHeight-W.height())/2;Y=(this._areaWidth-W.width())/2}var ae=W.attr("src");for(var aa=0;aa<this._numRows;aa++){for(var Z=0;Z<this._numCols;Z++){var af=((-aa*this._size)+ad);var X=((-Z*this._size)+Y);this._$blockArr[aa][Z].css({background:"url('"+ae+"') no-repeat",backgroundPosition:X+"px "+af+"px",opacity:ac,top:(aa*this._size)+ab,left:(Z*this._size),width:ag,height:ag,"z-index":3})}}};z.prototype.diagAnimate=function(W,ag,ac,aa,af){var ae=new Array(this._total);var Y,ab,X,Z;var ah=(this._numRows-1)+(this._numCols-1);if(ac){Y=ah;ab=-1;X=-1;Z=this._$blocks.data("tlId")}else{Y=0;ab=ah+1;X=1;Z=this._$blocks.data("brId")}var ad=0;while(Y!=ab){i=Math.min(this._numRows-1,Y);while(i>=0){j=Math.abs(i-Y);if(j>=this._numCols){break}ae[ad++]=this._$blockArr[i][j];i--}Y+=X}D(this).trigger(c,[W,ag,aa,af,ae,Z])};z.prototype.jsDiagonal=function(ac,W,ae,Y,ad,aa,X){var ab=this;var Z=0;this._intervalId=setInterval(function(){aa[Z++].animate(ae,Y,ad,function(){if(D(this).attr("id")==X){ab._rotator.showContent(W)}});if(Z==ab._total){clearInterval(ab._intervalId);ab._intervalId=null}},this._delay)};z.prototype.cssDiagonal=function(ac,W,ae,Y,ad,aa,X){var ab=this;this._$blocks.show();for(var Z=0;Z<this._total;Z++){aa[Z].cssTransition(ae,Y,ad,Z*this._delay,function(){if(D(this).attr("id")==X){ab._rotator.showContent(W)}})}};z.prototype.zigZagAnimate=function(X,ae,aa,ad){var ac=0,ab=0,Y,Z,W;if(ae==u.zigZagRight){Z=(this._numCols%2==0)?this._$blocks.data("trId"):this._$blocks.data("brId");ab=0;Y=1;W=false}else{if(ae==u.zigZagLeft){Z=(this._numCols%2==0)?this._$blocks.data("tlId"):this._$blocks.data("blId");ab=this._numCols-1;Y=-1;W=false}else{if(ae==u.zigZagDown){Z=(this._numRows%2==0)?this._$blocks.data("blId"):this._$blocks.data("brId");ac=0;Y=1;W=true}else{Z=(this._numRows%2==0)?this._$blocks.data("tlId"):this._$blocks.data("trId");ac=this._numRows-1;Y=-1;W=true}}}D(this).trigger(v,[X,aa,ad,ac,ab,Y,Z,W])};z.prototype.jsZigZag=function(af,X,aa,ag,ad,ab,Y,Z,W){var ae=this;var ac=true;this._intervalId=setInterval(function(){ae._$blockArr[ad][ab].animate({opacity:1},aa,ag,function(){if(D(this).attr("id")==Z){ae._rotator.showContent(X)}});if(ae._$blockArr[ad][ab].attr("id")==Z){clearInterval(ae._intervalId);ae._intervalId=null}if(W){(ac?ab++:ab--);if(ab==ae._numCols||ab<0){ac=!ac;ab=(ac?0:ae._numCols-1);ad+=Y}}else{(ac?ad++:ad--);if(ad==ae._numRows||ad<0){ac=!ac;ad=(ac?0:ae._numRows-1);ab+=Y}}},this._delay)};z.prototype.cssZigZag=function(af,X,aa,ag,ad,ab,Y,Z,W){var ae=this;var ac=true;var ah=0;this._$blocks.show();while(true){this._$blockArr[ad][ab].cssTransition({opacity:1},aa,ag,ah,function(){if(D(this).attr("id")==Z){ae._rotator.showContent(X)}});if(this._$blockArr[ad][ab].attr("id")==Z){break}if(W){(ac?ab++:ab--);if(ab==this._numCols||ab<0){ac=!ac;ab=(ac?0:this._numCols-1);ad+=Y}}else{(ac?ad++:ad--);if(ad==this._numRows||ad<0){ac=!ac;ad=(ac?0:this._numRows-1);ab+=Y}}ah+=this._delay}};z.prototype.dirAnimate=function(W,ae,Y,ad){var ab=new Array(this._total);var X;var ac=0;switch(ae){case u.blockExpandRight:X=this._$blocks.data("brId");for(var Z=0;Z<this._numCols;Z++){for(var aa=0;aa<this._numRows;aa++){ab[ac++]=this._$blockArr[aa][Z]}}break;case u.blockExpandLeft:X=this._$blocks.data("blId");for(var Z=this._numCols-1;Z>=0;Z--){for(var aa=0;aa<this._numRows;aa++){ab[ac++]=this._$blockArr[aa][Z]}}break;case u.blockExpandDown:X=this._$blocks.data("brId");for(var aa=0;aa<this._numRows;aa++){for(var Z=0;Z<this._numCols;Z++){ab[ac++]=this._$blockArr[aa][Z]}}break;default:X=this._$blocks.data("trId");for(var aa=this._numRows-1;aa>=0;aa--){for(var Z=0;Z<this._numCols;Z++){ab[ac++]=this._$blockArr[aa][Z]}}}D(this).trigger(p,[W,Y,ad,ab,X])};z.prototype.jsDirectional=function(ab,W,aa,ad,Z,ac){var Y=this;var X=0;this._intervalId=setInterval(function(){Z[X++].animate({width:Y._size,height:Y._size},aa,ad,function(){if(D(this).attr("id")==ac){Y._rotator.showContent(W)}});if(X==Y._total){clearInterval(Y._intervalId);Y._intervalId=null}},this._delay)};z.prototype.cssDirectional=function(ab,X,aa,ad,Z,ac){var Y=this;this._$blocks.show();for(var W=0;W<this._total;W++){Z[W].cssTransition({width:this._size,height:this._size},aa,ad,W*this._delay,function(){if(D(this).attr("id")==ac){Y._rotator.showContent(X)}})}};z.prototype.jsRandom=function(ab,X,aa,ac){var Z=this;var W=0,Y=0;s(this._arr);this._intervalId=setInterval(function(){D(Z._arr[W]).animate({top:D(Z._arr[W]).data("top"),width:Z._size,height:Z._size,opacity:1},aa,ac,function(){if(++Y==Z._total){Z._rotator.showContent(X)}});W++;if(W==Z._total){clearInterval(Z._intervalId);Z._intervalId=null}},this._delay)};z.prototype.cssRandom=function(ab,X,aa,ac){var Z=this;var Y=0;s(this._arr);this._$blocks.show();for(var W=0;W<this._total;W++){D(this._arr[W]).cssTransition({top:D(this._arr[W]).data("top"),width:this._size,height:this._size,opacity:1},aa,ac,W*this._delay,function(){if(++Y==Z._total){Z._rotator.showContent(X)}})}};z.prototype.spiralAnimate=function(W,ac,Z,af){var ab=0,aa=0;var ag=this._numRows-1;var ah=this._numCols-1;var X=0;var Y=ah;var ae=new Array();while(ag>=0&&ah>=0){var ad=0;while(true){ae[ae.length]=this._$blockArr[ab][aa];if((++ad)>Y){break}switch(X){case 0:aa++;break;case 1:ab++;break;case 2:aa--;break;case 3:ab--}}switch(X){case 0:X=1;Y=(--ag);ab++;break;case 1:X=2;Y=(--ah);aa--;break;case 2:X=3;Y=(--ag);ab--;break;case 3:X=0;Y=(--ah);aa++}}if(ae.length>0){if(ac){ae.reverse()}D(this).trigger(K,[W,Z,af,ae])}};z.prototype.jsSpiral=function(ad,W,Y,ae,ac){var aa=ac.length-1;var X=ac[aa].attr("id");var Z=0;var ab=this;this._intervalId=setInterval(function(){ac[Z].animate({opacity:1},Y,ae,function(){if(D(this).attr("id")==X){ab._rotator.showContent(W)}});if(Z==aa){clearInterval(ab._intervalId);ab._intervalId=null}Z++},this._delay)};z.prototype.cssSpiral=function(ad,W,Y,ae,ab){var ac=this;var Z=ab.length-1;var X=ab[Z].attr("id");this._$blocks.show();for(var aa=0;aa<=Z;aa++){ab[aa].cssTransition({opacity:1},Y,ae,(aa*this._delay),function(){if(D(this).attr("id")==X){ac._rotator.showContent(W)}})}};function L(X,W){this._screenWidth=isNaN(W.width)?"auto":k(W.width,825);this._screenHeight=isNaN(W.height)?"auto":k(W.height,300);this._margin=g(f(W.button_margin,W.margin),4);this._globalEffect=f(W.transition,W.effect);this._duration=k(f(W.transition_speed,W.duration),B);this._globalDelay=k(W.delay,d);this._rotate=W.auto_start;this._cpOutside=("undefined"!=typeof W.cpanel_position)?("outside"===W.cpanel_position):W.outside_cpanel;this._cpAlign=W.cpanel_align.toUpperCase();this._thumbWidth=k(W.thumb_width,24);this._thumbHeight=k(W.thumb_height,24);this._buttonWidth=k(W.button_width,24);this._buttonHeight=k(W.button_height,24);this._tooltipWidth=isNaN(W.tooltip_width)?"auto":k(W.tooltip_width,50);this._tooltipHeight=isNaN(W.tooltip_height)?"auto":k(W.tooltip_height,50);this._bgImg=W.background_image;this._bgRepeat=W.background_repeat;this._bgPosition=W.background_position;this._displayPlayBtn=W.display_playbutton;this._displayTimer=W.display_timer;this._cpMouseover=window.Touch?false:f(W.cpanel_mouseover,W.cpanel_onmouseover);this._textMousover=window.Touch?false:f(W.text_mouseover,W.text_onmouseover);this._pauseMouseover=window.Touch?false:f(W.mouseover_pause,W.pause_onmouseover);this._selectMouseover=window.Touch?false:f(W.mouseover_select,W.select_onmouseover);this._buttonsMouseover=window.Touch?false:W.dbuttons_onmouseover;this._tipType=R(W.tooltip_type,["none","text","image"],"none");this._tooltipDelay=g(W.tooltip_delay,0);this._textEffect=W.text_effect;this._textDuration=k(W.text_duration,500);this._textEasing=W.text_easing;this._textDelay=g(W.text_delay,0);this._textSync=W.text_sync;this._playOnce=W.play_once;this._autoCenter=f(W.auto_center,W.center_image);this._easing=W.easing;this._timerAlign=W.timer_align.toLowerCase();this._shuffle=W.shuffle;this._mousewheelScroll=f(W.mousewheel_scroll,W.mousewheel);this._swipe=W.swipe;this._vertSize=k(f(W.vert_size,W.vslice_size),F);this._horzSize=k(f(W.horz_size,W.hslice_size),F);this._blockSize=k(W.block_size,G);this._vertDelay=k(f(W.vstripe_delay,W.vslice_delay),75);this._horzDelay=k(f(W.hstripe_delay,W.hslice_delay),75);this._blockDelay=k(W.block_delay,25);this._preload=W.preload;this._cssTransition=W.css_transition;if("undefined"!=(typeof W.display_thumbs)){if(W.display_thumbs){if("undefined"!=(typeof W.display_thumbimg)&&W.display_thumbimg){this._thumbType="image"}else{if("undefined"!=(typeof W.display_numbers)&&W.display_numbers){this._thumbType="number"}else{this._thumbType="empty"}}}else{this._thumbType="none"}}else{this._thumbType=R(W.thumb_type,["none","empty","image","number","text"],"none")}if("undefined"!=(typeof W.display_dbuttons)){if(W.display_dbuttons){this._dbuttonsType=("undefined"!=(typeof W.display_side_buttons)&&W.display_side_buttons)?"large":"small"}else{this._dbuttonsType="none"}}else{this._dbuttonsType=R(W.dbuttons_type,["none","large","small"],"none")}this._numItems;this._currIndex;this._prevIndex;this._delay;this._vStripes;this._hStripes;this._blocks;this._timerId;this._blockEffect;this._hStripeEffect;this._vStripeEffect;this._dir;this._cpVertical;this._zIndex;this._syncId;this._layerId;this._layerDelay;this._cssTrsnLayer;this._cssTrsn;this._slideTransition;this._verticalSlide;this._startX;this._startY;this._swipeDist;this._scrolling;this._$rotator;this._$screen;this._$strip;this._$mainLink;this._$layers;this._$preloader;this._$cpWrapper;this._$cpanel;this._$thumbPanel;this._$list;this._$thumbs;this._$buttonPanel;this._$playBtn;this._$sPrev;this._$sNext;this._$timer;this._$tooltip;this._$items;this._$contentBoxes;this._$rotator=this.getRotator(X,"banner-rotator");if("undefined"!=typeof this._$rotator){this.init()}else{this._$rotator=this.getRotator(X,"wt-rotator");if("undefined"!=typeof this._$rotator){this._$rotator.removeClass("wt-rotator");if(!this._$rotator.hasClass("banner-rotator")){this._$rotator.addClass("banner-rotator")}this.init()}}}L.prototype.getRotator=function(Y,X){if(Y.hasClass(X)){return Y}var W=Y.find("."+X);if(0<W.length){return W.eq(0)}return undefined};L.prototype.init=function(){this._cssTrsnLayer=this._cssTrsn=(y&&this._cssTransition);var Y=this._$rotator.parent();if("auto"===this._screenWidth){var X=this._$rotator.outerWidth()-this._$rotator.width();this._screenWidth=(0<Y.length&&0<Y.width())?(Y.width()-X):825}if("auto"===this._screenHeight){var W=this._$rotator.outerHeight()-this._$rotator.height();this._screenHeight=(0<Y.length&&0<Y.height())?(Y.height()-W):300}this._$screen=this._$rotator.find(">div.screen");if(0==this._$screen.length){this._$rotator.append("<div class='screen'></div>");this._$screen=this._$rotator.find(">div.screen")}this._$list=this._$rotator.find(">ul");if(0<this._$list.length){this._$list.wrap("<div class='c-panel'><div class='thumbnails'></div></div>")}this._$cpanel=this._$rotator.find(">div.c-panel");this._$buttonPanel=this._$cpanel.find(">div.buttons");if(0==this._$buttonPanel.length){this._$cpanel.append("<div class='buttons'><div class='prev-btn'></div><div class='play-btn'></div><div class='next-btn'></div></div>");this._$buttonPanel=this._$cpanel.find(">div.buttons")}this._$thumbPanel=this._$cpanel.find(">div.thumbnails");this._$list=this._$thumbPanel.find(">ul");this._$thumbs=this._$list.find(">li");this._timerId=this._syncId=this._layerId=null;this._currIndex=0;this._prevIndex=-1;this._numItems=this._$thumbs.length;this._$items=new Array(this._numItems);this._blockEffect=this._hStripeEffect=this._vStripeEffect=false;this.checkEffect(u[this._globalEffect]);this._slideTransition=(u[this._globalEffect]===u.horizontalSlide||u[this._globalEffect]===u.verticalSlide);this._cpVertical=V[this._cpAlign]>=V.LT?true:false;if(this._numItems<=1){this._rotate=this._displayPlayBtn=this._displayTimer=this._mousewheelScroll=this._pauseMouseover=false;this._dbuttonsType="none"}if(this._shuffle){this.shuffleItems()}this._$rotator.css({width:this._screenWidth,height:this._screenHeight});this.initScreen();this.initButtons();this.initItems();if("large"==this._dbuttonsType){this._zIndex++;this._$sPrev.css("z-index",this._zIndex);this._$sNext.css("z-index",this._zIndex)}this.initCPanel();this.initTimerBar();if(this._textMousover){if(false!==y&&false!==this._cssTrsnLayer){this._$rotator.bind("mouseenter",{elem:this},this.displayCssLayers).bind("mouseleave",{elem:this},this.hideLayers).bind(e,{elem:this},this.resetCssLayers)}else{this._$rotator.bind("mouseenter",{elem:this},this.displayLayers).bind("mouseleave",{elem:this},this.hideLayers).bind(e,{elem:this},this.resetLayers)}}else{if(false!==y&&false!==this._cssTrsnLayer){this._$rotator.bind(E,{elem:this},this.updateCssLayers).bind(e,{elem:this},this.resetCssLayers)}else{this._$rotator.bind(E,{elem:this},this.updateLayers).bind(e,{elem:this},this.resetLayers)}}if(this._vStripeEffect){this._vStripes=new a(this)}if(this._hStripeEffect){this._hStripes=new x(this)}if(this._blockEffect){this._blocks=new z(this)}if(window.Touch){if(this._swipe){this._startX=this._startY=this._swipeDist=null;this._verticalSlide=(u[this._globalEffect]==u.verticalSlide);this._$rotator.bind("touchstart",{elem:this},this.touchStart)}}else{if(this._mousewheelScroll){this._$rotator.bind("mousewheel",{elem:this},this.mouseScrollContent).bind("DOMMouseScroll",{elem:this},this.mouseScrollContent)}}if(!b(6)&&this._preload){this.loadImg(0)}else{this.loadAll()}if(this._$items.length>0){this.loadContent(this._currIndex)}};L.prototype.touchStart=function(X){if(1===X.originalEvent.touches.length){var W=X.data.elem;W._startX=X.originalEvent.touches[0].pageX;W._startY=X.originalEvent.touches[0].pageY;W._$rotator.bind("touchmove",{elem:W},W.touchMove).one("touchend",{elem:W},W.touchEnd)}};L.prototype.touchMove=function(Z){var Y=Z.data.elem;var W=Y._startX-Z.originalEvent.touches[0].pageX;var X=Y._startY-Z.originalEvent.touches[0].pageY;if(Y._verticalSlide){Y._swipeDist=X;Y._scrolling=Math.abs(Y._swipeDist)<Math.abs(W)}else{Y._swipeDist=W;Y._scrolling=Math.abs(Y._swipeDist)<Math.abs(X)}if(!Y._scrolling){Z.preventDefault()}};L.prototype.touchEnd=function(X){var W=X.data.elem;W._$rotator.unbind("touchmove");if(!W._scrolling){if(null!==W._swipeDist&&Math.abs(W._swipeDist)>h){if(W._swipeDist>0){W.nextImg()}else{W.prevImg()}}}W._startX=W._startY=W._swipeDist=null};L.prototype.addToScreen=function(W){this._$mainLink.append(W)};L.prototype.initScreen=function(){var X="<div class='preloader'></div><div class='timer'></div>";var Y=this.getMaxLayers();for(var W=0;W<Y;W++){X+="<div class='desc'><div class='inner-bg'></div><div class='inner-text'></div></div>"}this._$screen.append(X);this._$layers=this._$screen.find(">div.desc");this._$preloader=this._$screen.find(">div.preloader");this._$screen.css({width:this._screenWidth,height:this._screenHeight});if(""!=this._bgImg){this._$screen.css({"background-image":"url("+this._bgImg+")","background-repeat":this._bgRepeat,"background-position":this._bgPosition})}this._$strip=D("<div class='strip'></div>");if(u[this._globalEffect]==u.horizontalSlide){this._$screen.append(this._$strip);this._$strip.css({width:2*this._screenWidth,height:this._screenHeight});this._$thumbs.removeAttr("effect")}else{if(u[this._globalEffect]==u.verticalSlide){this._$screen.append(this._$strip);this._$strip.css({width:this._screenWidth,height:2*this._screenHeight});this._$thumbs.removeAttr("effect")}else{this._$screen.append("<a href='#'></a>");this._$mainLink=this._$screen.find(">a:first")}}X="";if(this._slideTransition){for(var W=0;W<this._numItems;W++){X+="<div class='content-box'><img class='main-img'/></div>"}this._$strip.append(X);this._$contentBoxes=this._$strip.find(">div.content-box");this._$contentBoxes.css({width:this._screenWidth,height:this._screenHeight})}else{for(var W=0;W<this._numItems;W++){X+="<img class='main-img'/>"}this._$mainLink.append(X)}};L.prototype.initCPanel=function(){if("none"!=this._thumbType||"small"==this._dbuttonsType||this._displayPlayBtn){if(!this._cpOutside){this._$cpanel.css("z-index",++this._zIndex);switch(V[this._cpAlign]){case V.BL:this.setHPanel("left");this.setInsideHP("bottom");break;case V.BC:this.setHPanel("center");this.setInsideHP("bottom");break;case V.BR:this.setHPanel("right");this.setInsideHP("bottom");break;case V.TL:this.setHPanel("left");this.setInsideHP("top");break;case V.TC:this.setHPanel("center");this.setInsideHP("top");break;case V.TR:this.setHPanel("right");this.setInsideHP("top");break;case V.LT:this.setVPanel("top");this.setInsideVP("left");break;case V.LC:this.setVPanel("center");this.setInsideVP("left");break;case V.LB:this.setVPanel("bottom");this.setInsideVP("left");break;case V.RT:this.setVPanel("top");this.setInsideVP("right");break;case V.RC:this.setVPanel("center");this.setInsideVP("right");break;case V.RB:this.setVPanel("bottom");this.setInsideVP("right");break}if(this._cpMouseover){var W=this._cpVertical?"left":"top";this._$rotator.bind("mouseenter",{elem:this,dir:W},this.displayCPanel).bind("mouseleave",{elem:this,dir:W},this.hideCPanel)}}else{switch(V[this._cpAlign]){case V.BL:this.setHPanel("left");this.setOutsideHP(false);break;case V.BC:this.setHPanel("center");this.setOutsideHP(false);break;case V.BR:this.setHPanel("right");this.setOutsideHP(false);break;case V.TL:this.setHPanel("left");this.setOutsideHP(true);break;case V.TC:this.setHPanel("center");this.setOutsideHP(true);break;case V.TR:this.setHPanel("right");this.setOutsideHP(true);break;case V.LT:this.setVPanel("top");this.setOutsideVP(true);break;case V.LC:this.setVPanel("center");this.setOutsideVP(true);break;case V.LB:this.setVPanel("bottom");this.setOutsideVP(true);break;case V.RT:this.setVPanel("top");this.setOutsideVP(false);break;case V.RC:this.setVPanel("center");this.setOutsideVP(false);break;case V.RB:this.setVPanel("bottom");this.setOutsideVP(false);break}}this._$cpanel.css("visibility","visible").click(I)}};L.prototype.setHPanel=function(X){this._$cpanel.css({"margin-top":this._margin,"margin-bottom":this._margin,height:Math.max(this._$thumbPanel.outerHeight(true),this._$buttonPanel.outerHeight(true))});var W;if(X=="center"){W=Math.round((this._screenWidth-this._$cpanel.width()-this._margin)/2)}else{if(X=="left"){W=this._margin}else{W=this._screenWidth-this._$cpanel.width()}}this._$cpanel.css("left",W)};L.prototype.setVPanel=function(X){this._$cpanel.css({"margin-left":this._margin,"margin-right":this._margin,width:Math.max(this._$thumbPanel.outerWidth(true),this._$buttonPanel.outerWidth(true))});var W;if(X=="center"){W=Math.round((this._screenHeight-this._$cpanel.height()-this._margin)/2)}else{if(X=="top"){W=this._margin}else{W=this._screenHeight-this._$cpanel.height()}}this._$cpanel.css("top",W)};L.prototype.setInsideHP=function(Y){var X,W;if(Y=="top"){W=0;X=-this._$cpanel.outerHeight(true)}else{W=this._screenHeight-this._$cpanel.outerHeight(true);X=this._screenHeight}this._$cpanel.data({offset:X,pos:W}).css({top:(this._cpMouseover?X:W)})};L.prototype.setInsideVP=function(Y){var X,W;if(Y=="left"){W=0;X=-this._$cpanel.outerWidth(true)}else{W=this._screenWidth-this._$cpanel.outerWidth(true);X=this._screenWidth}this._$cpanel.data({offset:X,pos:W}).css({left:(this._cpMouseover?X:W)})};L.prototype.setOutsideHP=function(W){this._$cpanel.wrap("<div class='outer-hp'></div>");this._$cpWrapper=this._$rotator.find(".outer-hp");this._$cpWrapper.height(this._$cpanel.outerHeight(true));if(W){this._$cpWrapper.css({"border-top":"none",top:0});this._$screen.css("top",this._$cpWrapper.outerHeight())}else{this._$cpWrapper.css({"border-bottom":"none",top:this._screenHeight});this._$screen.css("top",0)}this._$rotator.css({height:this._screenHeight+this._$cpWrapper.outerHeight()})};L.prototype.setOutsideVP=function(W){this._$cpanel.wrap("<div class='outer-vp'></div>");this._$cpWrapper=this._$rotator.find(".outer-vp");this._$cpWrapper.width(this._$cpanel.outerWidth(true));if(W){this._$cpWrapper.css({"border-left":"none",left:0});this._$screen.css("left",this._$cpWrapper.outerWidth())}else{this._$cpWrapper.css({"border-right":"none",left:this._screenWidth});this._$screen.css("left",0)}this._$rotator.css({width:this._screenWidth+this._$cpWrapper.outerWidth()})};L.prototype.initButtons=function(){this._$playBtn=this._$buttonPanel.find("div.play-btn");var Y=this._$buttonPanel.find("div.prev-btn");var Z=this._$buttonPanel.find("div.next-btn");if("small"==this._dbuttonsType){Y.bind("click",{elem:this},this.prevImg);Z.bind("click",{elem:this},this.nextImg)}else{Y.hide();Z.hide()}if(this._displayPlayBtn){this._$playBtn.toggleClass("pause",this._rotate).bind("click",{elem:this},this.togglePlay)}else{this._$playBtn.hide()}if(this._pauseMouseover){this._$rotator.bind("mouseenter",{elem:this},this.pause).bind("mouseleave",{elem:this},this.play)}if("large"==this._dbuttonsType){this._$screen.append("<div class='s-prev'></div><div class='s-next'></div>");this._$sPrev=this._$screen.find(".s-prev");this._$sNext=this._$screen.find(".s-next");this._$sPrev.bind("click",{elem:this},this.prevImg).mousedown(I);this._$sNext.bind("click",{elem:this},this.nextImg).mousedown(I);if(this._buttonsMouseover){this._$sPrev.css("left",-this._$sPrev.width());this._$sNext.css("margin-left",0);this._$rotator.bind("mouseenter",{elem:this},this.showSideButtons).bind("mouseleave",{elem:this},this.hideSideButtons)}}var X=this._$buttonPanel.find(">div").css({width:this._buttonWidth,height:this._buttonHeight}).mousedown(I);if(this._cpVertical){Y.addClass("up");Z.addClass("down");X.css("margin-bottom",this._margin);this._$buttonPanel.width(X.outerWidth());if(l){this._$buttonPanel.height(this._$buttonPanel.find(">div:visible").length*X.outerHeight(true))}if("none"!=this._thumbType&&this._thumbWidth>this._buttonWidth){var W=this._thumbWidth-this._buttonWidth;switch(V[this._cpAlign]){case V.RT:case V.RC:case V.RB:this._$buttonPanel.css("margin-left",W);break;default:this._$buttonPanel.css("margin-right",W)}}}else{X.css("margin-right",this._margin);this._$buttonPanel.height(X.outerHeight());if(l){this._$buttonPanel.width(this._$buttonPanel.find(">div:visible").length*X.outerWidth(true))}if("none"!=this._thumbType&&this._thumbHeight>this._buttonHeight){var W=this._thumbHeight-this._buttonHeight;switch(V[this._cpAlign]){case V.TL:case V.TC:case V.TR:this._$buttonPanel.css("margin-bottom",W);break;default:this._$buttonPanel.css("margin-top",W)}}}};L.prototype.initTimerBar=function(){this._$timer=this._$screen.find(".timer").data("pct",1);if(this._displayTimer){this._$timer.css("visibility","visible");this._$timer.css("top",this._timerAlign=="top"?0:this._screenHeight-this._$timer.height())}else{this._$timer.hide()}};L.prototype.initItems=function(){var aa=this;var ah=parseInt(this._$layers.css("z-index"));this._zIndex=ah;for(var al=0;al<this._numItems;al++){var ad=this._$thumbs.eq(al);var Y=ad.find(">a").eq(0);var aq=f(Y.attr("href"),"");var ap=f(Y.attr("title"),"");var ag=ad.find(">a").eq(1);var am=f(ag.attr("href"),"");var ar=f(ag.attr("target"),"");var aj=u[ad.attr("data-effect")];if((typeof aj=="undefined")||aj==u.horizontalSlide||aj==u.verticalSlide){aj=u[this._globalEffect]}else{this.checkEffect(aj)}var W=k(ad.attr("data-duration"),this._duration);var an=f(ad.attr("data-easing"),this._easing);var ae=k(ad.attr("data-delay"),this._globalDelay);if(S(an,"Elastic")||S(an,"Bounce")){this._cssTrsn=false}ad.data({imgurl:aq,caption:ap,ttText:ad.find(">.tt-text").html(),href:am,target:ar,effect:aj,duration:W,easing:an,delay:ae,complete:false});this.initLayerData(ad,ah);this._$items[al]=ad;if("number"==this._thumbType){ad.append(al+1)}else{if("text"==this._thumbType){ad.append(ad.data("caption"))}}var ab;if(this._slideTransition){ab=this._$contentBoxes.eq(al).find(">img.main-img")}else{ab=this._$mainLink.find(">img.main-img").eq(al)}ad.data({img:ab})}this._$layers.find(">div.inner-text").css({width:"auto",height:"auto"}).html("");this._$layers.css({visibility:"visible",display:"none"});if("none"==this._thumbType){this._$thumbs.hide()}else{if("image"==this._thumbType){this._$thumbs.addClass("image").each(function(av){var au=D(this).find(">a").eq(0).removeAttr("title");var at=au.find(">img");if(0<at.length){at.removeAttr("alt");at.one("load",function(){aa.maximizeImage(D(this),aa._thumbWidth,aa._thumbHeight)});if(at[0].complete||"complete"==at[0].readyState){at.trigger("load")}}})}this._$thumbs.css({width:this._thumbWidth,height:this._thumbHeight,"line-height":this._thumbHeight+"px"}).mousedown(I);if(this._selectMouseover){this._$thumbs.bind("mouseover",{elem:this},this.selectItem)}else{this._$thumbPanel.bind("click",{elem:this},this.selectItem)}if(this._cpVertical){this._$thumbs.css("margin-bottom",this._margin);this._$list.width(this._$thumbs.outerWidth());this._$thumbPanel.width(this._$list.width());if(l){this._$thumbPanel.height(this._numItems*this._$thumbs.outerHeight(true))}if(("small"==this._dbuttonsType||this._displayPlayBtn)&&(this._buttonWidth>this._thumbWidth)){var ak=this._buttonWidth-this._thumbWidth;switch(V[this._cpAlign]){case V.RT:case V.RC:case V.RB:this._$thumbPanel.css("margin-left",ak);break;default:this._$thumbPanel.css("margin-right",ak)}}var ai=this._screenHeight-(this._$buttonPanel.height()+this._margin);if(this._$thumbPanel.height()>ai){var X=this._$thumbs.outerHeight(true);this._$list.addClass("inside").height(this._numItems*X);this._$thumbPanel.css({height:Math.floor(ai/X)*X-this._margin,"margin-bottom":this._margin});var af=this._$thumbPanel.height()-(this._$list.height()-this._margin);this._$thumbPanel.append("<div class='back-scroll'></div><div class='fwd-scroll'></div>");var ac=this._$thumbPanel.find(".back-scroll");var Z=this._$thumbPanel.find(".fwd-scroll");ac.css({height:X,width:"100%"});Z.css({height:X,width:"100%",top:"100%","margin-top":-X});if(!window.Touch){ac.bind("mouseenter",function(){Z.show();var at=-aa._$list.stop(true).position().top*J;aa._$list.stop(true).animate({top:0},at,"linear",function(){ac.hide()})}).bind("mouseleave",{elem:this},this.stopList);Z.bind("mouseenter",function(){ac.show();var at=(-af+aa._$list.stop(true).position().top)*J;aa._$list.stop(true).animate({top:af},at,"linear",function(){Z.hide()})}).bind("mouseleave",{elem:this},this.stopList)}else{ac.hide();Z.hide()}this._$rotator.bind(r,function(){if(!aa._$list.is(":animated")){var at=aa._$list.position().top+(aa._currIndex*X);if(at<0||at>aa._$thumbPanel.height()-aa._$thumbs.outerHeight()){at=-aa._currIndex*X;if(at<af){at=af}aa._$list.stop(true).animate({top:at},P,function(){if(!window.Touch){D(this).position().top==0?ac.hide():ac.show();D(this).position().top==af?Z.hide():Z.show()}})}}})}}else{this._$thumbs.css("margin-right",this._margin);this._$list.height(this._$thumbs.outerHeight());this._$thumbPanel.height(this._$list.height());if(l){this._$thumbPanel.width(this._numItems*this._$thumbs.outerWidth(true))}if(("small"==this._dbuttonsType||this._displayPlayBtn)&&this._buttonHeight>this._thumbHeight){var ak=this._buttonHeight-this._thumbHeight;switch(V[this._cpAlign]){case V.TL:case V.TC:case V.TR:this._$thumbPanel.css("margin-bottom",ak);break;default:this._$thumbPanel.css("margin-top",ak)}}var ao=this._screenWidth-(this._$buttonPanel.width()+this._margin);if(this._$thumbPanel.width()>ao){var X=this._$thumbs.outerWidth(true);this._$list.addClass("inside").width(this._numItems*X);this._$thumbPanel.css({width:Math.floor(ao/X)*X-this._margin,"margin-right":this._margin});var af=this._$thumbPanel.width()-(this._$list.width()-this._margin);this._$thumbPanel.append("<div class='back-scroll'></div><div class='fwd-scroll'></div>");var ac=this._$thumbPanel.find(".back-scroll");var Z=this._$thumbPanel.find(".fwd-scroll");ac.css({width:X,height:"100%"});Z.css({width:X,height:"100%",left:"100%","margin-left":-X});if(!window.Touch){ac.bind("mouseenter",function(){Z.show();var at=-aa._$list.stop(true).position().left*J;aa._$list.stop(true).animate({left:0},at,"linear",function(){ac.hide()})}).bind("mouseleave",{elem:this},this.stopList);Z.bind("mouseenter",function(){ac.show();var at=(-af+aa._$list.stop(true).position().left)*J;aa._$list.stop(true).animate({left:af},at,"linear",function(){Z.hide()})}).bind("mouseleave",{elem:this},this.stopList)}this._$rotator.bind(r,function(){if(!aa._$list.is(":animated")){var at=aa._$list.position().left+(aa._currIndex*X);if(at<0||at>aa._$thumbPanel.width()-aa._$thumbs.outerWidth()){at=-aa._currIndex*X;if(at<af){at=af}aa._$list.stop(true).animate({left:at},P,function(){D(this).position().left==0?ac.hide():ac.show();D(this).position().left==af?Z.hide():Z.show()})}}})}}this.initTooltip()}};L.prototype.initLayerData=function(Z,ac){var ab=this;var Y=Z.find(">div:hidden").not(".tt-text");var X=Y.sort(function(ae,ad){return g(D(ae).attr("data-delay"),0)-g(D(ad).attr("data-delay"),0)});Y.remove();Z.append(X);var W=this._$layers.eq(0);var aa=W.find(">div.inner-text");X.each(function(ag){var au,ai,ak,aj;var al=D(this);var ae=k(al.width(),"auto");var at=k(al.height(),"auto");var af=al.outerWidth()-al.width();var ao=Math.round(af/2);var ar=!isNaN(parseInt(al.css("bottom")));var aq=!isNaN(parseInt(al.css("right")));var an="",ad="",ah="",ap="";if(ar){ad=g(al.css("bottom"),0)}else{an=g(al.css("top"),0)}if(aq){ap=g(al.css("right"),0)}else{ah=g(al.css("left"),0)}W.css({top:an,bottom:ad,left:ah,right:ap});aa.css({padding:ao,width:ae,height:at}).html(al.html());if("auto"==at){at=aa.height()+1}at+=af;if("auto"==ae){ae=aa.width()+1}ae+=af;var am=g(al.css("z-index"),0)+ac;if(am>ab._zIndex){ab._zIndex=am}al.css({width:ae,height:at});au=f(al.attr("data-effect"),ab._textEffect);ai=k(al.attr("data-duration"),ab._textDuration);ak=f(al.attr("data-easing"),ab._textEasing);aj=g(al.attr("data-delay"),(ag*ab._textDelay));if(S(ak,"Elastic")||S(ak,"Bounce")){ab._cssTrsnLayer=false}al.data({top:an,bottom:ad,left:ah,right:ap,padding:ao,zindex:am,usebottom:ar,useright:aq,effect:au,duration:ai,easing:ak,delay:aj})})};L.prototype.initTooltip=function(){if("text"==this._tipType){var X="tip-"+D("body").find(".rotator-tooltip").length;D("body").append("<div class='rotator-tooltip' id='"+X+"'><div class='tt-txt'></div></div>");this._$tooltip=D("body").find("#"+X);this._$tooltip.find(">.tt-txt").css({width:this._tooltipWidth,height:this._tooltipHeight});this._$thumbs.bind("mouseover",{elem:this},this.showTooltip).bind("mouseout",{elem:this},this.hideTooltip).bind("mousemove",{elem:this},this.moveTooltip);switch(V[this._cpAlign]){case V.TL:case V.TC:case V.TR:this._$tooltip.data("bottom",true).addClass("txt-down");break;default:this._$tooltip.data("bottom",false).addClass("txt-up")}}else{if("image"==this._tipType){var Z=this;var X="tip-"+D("body").find(".rotator-tooltip").length;D("body").append("<div class='rotator-tooltip' id='"+X+"'><div class='img-frame'></div></div>");this._$tooltip=D("body").find("#"+X);var Y=this._$tooltip.find(">div.img-frame");Y.css({width:this._tooltipWidth,height:this._tooltipHeight});this._$thumbs.each(function(ab){var aa=D(this).find(">img.tt-img");if(0<aa.length){aa.attr("id","tt-img-"+ab);Y.append(aa);aa.one("load",function(){Z.maximizeImage(D(this),Z._tooltipWidth,Z._tooltipHeight)});if(aa[0].complete||"complete"==aa[0].readyState){aa.trigger("load")}}});switch(V[this._cpAlign]){case V.TL:case V.TC:case V.TR:this._$thumbs.bind("mouseover",{elem:this},this.showHImgTooltip);this._$tooltip.data("bottom",true).addClass("img-down");break;case V.LT:case V.LC:case V.LB:this._$thumbs.bind("mouseover",{elem:this},this.showVImgTooltip);this._$tooltip.data("right",true).addClass("img-right");break;case V.RT:case V.RC:case V.RB:this._$thumbs.bind("mouseover",{elem:this},this.showVImgTooltip);this._$tooltip.data("right",false).addClass("img-left");break;default:this._$thumbs.bind("mouseover",{elem:this},this.showHImgTooltip);this._$tooltip.data("bottom",false).addClass("img-up")}this._$thumbs.bind("mouseout",{elem:this},this.hideTooltip)}}if(b(6)){try{this._$tooltip.css("background-image","none").children().css("margin",0)}catch(W){}}};L.prototype.showHImgTooltip=function(Y){var X=Y.data.elem;var W=X._$tooltip.find("img#tt-img-"+D(this).index());if(W.attr("src")){X._$tooltip.find("img").css({zIndex:0}).hide();W.css({zIndex:1}).show();var aa=X._$tooltip.data("bottom")?D(this).outerHeight():-X._$tooltip.outerHeight();var Z=D(this).offset();X._$tooltip.css({top:Z.top+aa,left:Z.left+((D(this).outerWidth()-X._$tooltip.outerWidth())/2)}).stop(true,true).delay(X._tooltipDelay).fadeIn(300)}};L.prototype.showVImgTooltip=function(Z){var Y=Z.data.elem;var W=Y._$tooltip.find("img#tt-img-"+D(this).index());if(W.attr("src")){Y._$tooltip.find("img").css({zIndex:0}).hide();W.css({zIndex:1}).show();var X=Y._$tooltip.data("right")?D(this).outerWidth():-Y._$tooltip.outerWidth();var aa=D(this).offset();Y._$tooltip.css({top:aa.top+((D(this).outerHeight()-Y._$tooltip.outerHeight())/2),left:aa.left+X}).stop(true,true).delay(Y._tooltipDelay).fadeIn(300)}};L.prototype.showTooltip=function(Y){var X=Y.data.elem;var W=X._$items[D(this).index()].data("ttText");if("undefined"!=typeof W&&""!=W){X._$tooltip.find(">div.tt-txt").html(W);var Z=X._$tooltip.data("bottom")?0:-X._$tooltip.outerHeight(true);X._$tooltip.css({top:Y.pageY+Z,left:Y.pageX}).stop(true,true).delay(X._tooltipDelay).fadeIn(300)}};L.prototype.moveTooltip=function(X){var W=X.data.elem;var Y=W._$tooltip.data("bottom")?0:-W._$tooltip.outerHeight(true);W._$tooltip.css({top:X.pageY+Y,left:X.pageX})};L.prototype.hideTooltip=function(Y){try{var X=(typeof Y!="undefined")?Y.data.elem:this;X._$tooltip.stop(true,true).hide()}catch(W){}};L.prototype.displayCPanel=function(X){var W=X.data.elem;var Y={};Y[X.data.dir]=W._$cpanel.data("pos");Y.opacity=1;W._$cpanel.stop(true).animate(Y,P)};L.prototype.hideCPanel=function(X){var W=X.data.elem;var Y={};Y[X.data.dir]=W._$cpanel.data("offset");Y.opacity=0;W._$cpanel.stop(true).animate(Y,P)};L.prototype.showSideButtons=function(X){var W=X.data.elem;W._$sPrev.stop(true).animate({left:0},P);W._$sNext.stop(true).animate({"margin-left":-W._$sNext.width()},P)};L.prototype.hideSideButtons=function(X){var W=X.data.elem;W._$sPrev.stop(true).animate({left:-W._$sPrev.width()},P);W._$sNext.stop(true).animate({"margin-left":0},P)};L.prototype.selectItem=function(Z){var Y=Z.data.elem;var W=D(Z.target);if(W[0].nodeName!="LI"){W=W.closest("li")}var X=W.index();if(X>-1&&X!=Y._currIndex){Y._dir=X<Y._currIndex?T:w;Y.resetTimer();Y._prevIndex=Y._currIndex;Y._currIndex=X;Y.loadContent(Y._currIndex);Y.hideTooltip()}return false};L.prototype.prevImg=function(X){var W=(typeof X!="undefined")?X.data.elem:this;W._dir=T;W.resetTimer();W._prevIndex=W._currIndex;W._currIndex=(W._currIndex>0)?(W._currIndex-1):(W._numItems-1);W.loadContent(W._currIndex);return false};L.prototype.nextImg=function(X){var W=(typeof X!="undefined")?X.data.elem:this;W._dir=w;W.resetTimer();W._prevIndex=W._currIndex;W._currIndex=(W._currIndex<W._numItems-1)?(W._currIndex+1):0;W.loadContent(W._currIndex);return false};L.prototype.togglePlay=function(X){var W=X.data.elem;W._rotate=!W._rotate;W._$playBtn.toggleClass("pause",W._rotate);W._rotate?W.startTimer():W.pauseTimer();return false};L.prototype.play=function(X){var W=X.data.elem;W._rotate=true;W._$playBtn.addClass("pause");W.startTimer()};L.prototype.pause=function(X){var W=X.data.elem;W._rotate=false;W._$playBtn.removeClass("pause");W.pauseTimer()};L.prototype.pauseLast=function(W){if(W==this._numItems-1){this._rotate=false;this._$playBtn.removeClass("pause")}};L.prototype.updateLayers=function(Z){var Y=Z.data.elem;Y._$layers.stop(true,true);if(null===Y._layerId){var X=0;var W=Y._$items[Y._currIndex].find(">div:hidden").not(".tt-text");if(X<W.length){Y._layerDelay=W.eq(X).data("delay");Y._layerId=setTimeout(function(){Y.updateLayer(X,W)},Y._layerDelay)}}};L.prototype.updateLayer=function(Y,ad){var aa=this._$layers.eq(Y);var ah=ad.eq(Y);var W=ah.width();var ac=ah.height();var aj=ah.data("usebottom");var ak=ah.data("useright");var ae,ag,af,ai;ae=ah.data("top");ag=ah.data("bottom");af=ah.data("left");ai=ah.data("right");aa.css("z-index",ah.data("zindex"));aa.find(">div.inner-text").css({color:ah.css("color"),padding:ah.data("padding")});aa.find(">div.inner-bg").css({height:ac,backgroundColor:ah.css("background-color"),opacity:ah.css("opacity"),backgroundImage:ah.css("background-image"),backgroundRepeat:ah.css("background-repeat"),backgroundPosition:ah.css("background-position")});switch(n[ah.data("effect")]){case n.fade:this.fadeInLayer(ah,aa,{top:ae,bottom:ag,left:af,right:ai,width:W,height:ac});break;case n.expandDown:if(aj){ae=(this._screenHeight-ac)-ag}this.expandLayer(ah,aa,{width:W,height:0,top:ae,left:af,right:ai},{height:ac});break;case n.expandUp:if(!aj){ag=this._screenHeight-(ae+ac)}this.expandLayer(ah,aa,{width:W,height:0,bottom:ag,left:af,right:ai},{height:ac});break;case n.expandRight:if(ak){af=(this._screenWidth-W)-ai}this.expandLayer(ah,aa,{width:0,height:ac,top:ae,bottom:ag,left:af},{width:W});break;case n.expandLeft:if(!ak){ai=this._screenWidth-(af+W)}this.expandLayer(ah,aa,{width:0,height:ac,top:ae,bottom:ag,right:ai},{width:W});break;case n.moveDown:if(aj){this.moveLayer(ah,aa,{width:W,height:ac,bottom:this._screenHeight,left:af,right:ai},{bottom:ag})}else{this.moveLayer(ah,aa,{width:W,height:ac,top:-ac,left:af,right:ai},{top:ae})}break;case n.moveUp:if(aj){this.moveLayer(ah,aa,{width:W,height:ac,bottom:-ac,left:af,right:ai},{bottom:ag})}else{this.moveLayer(ah,aa,{width:W,height:ac,top:this._screenHeight,left:af,right:ai},{top:ae})}break;case n.moveRight:if(ak){this.moveLayer(ah,aa,{width:W,height:ac,top:ae,bottom:ag,right:this._screenWidth},{right:ai})}else{this.moveLayer(ah,aa,{width:W,height:ac,top:ae,bottom:ag,left:-W},{left:af})}break;case n.moveLeft:if(ak){this.moveLayer(ah,aa,{width:W,height:ac,top:ae,bottom:ag,right:-W},{right:ai})}else{this.moveLayer(ah,aa,{width:W,height:ac,top:ae,bottom:ag,left:this._screenWidth},{left:af})}break;default:this.showLayer(ah,aa,{top:ae,bottom:ag,left:af,right:ai,width:W,height:ac})}if(++Y<ad.length){var ab=this;var ah=ad.eq(Y);var X=ah.data("delay");var Z=Math.abs(X-this._layerDelay);this._layerDelay=X;this._layerId=setTimeout(function(){ab.updateLayer(Y,ad)},Z)}};L.prototype.updateCssLayers=function(Y){var X=Y.data.elem;X._$layers.cssTransitionStop(true);var W=X._$items[X._currIndex].find(">div:hidden").not(".tt-text");W.each(function(Z){X.updateCssLayer(D(this),X._$layers.eq(Z))})};L.prototype.updateCssLayer=function(Y,X){var aa,ad,ac,W,ab,Z;aa=Y.width();ad=Y.height();ac=Y.data("top");W=Y.data("bottom");ab=Y.data("left");Z=Y.data("right");X.css("z-index",Y.data("zindex"));X.find(">div.inner-text").css({color:Y.css("color"),padding:Y.data("padding")});X.find(">div.inner-bg").css({height:ad,backgroundColor:Y.css("background-color"),opacity:Y.css("opacity"),backgroundImage:Y.css("background-image"),backgroundRepeat:Y.css("background-repeat"),backgroundPosition:Y.css("background-position")});switch(n[Y.data("effect")]){case n.fade:this.fadeInCssLayer(Y,X,{top:ac,bottom:W,left:ab,right:Z,width:aa,height:ad,opacity:0});break;case n.expandDown:if(Y.data("usebottom")){ac=(this._screenHeight-ad)-W}this.expandCssLayer(Y,X,{width:aa,height:0,top:ac,left:ab,right:Z},{height:ad});break;case n.expandUp:if(!Y.data("usebottom")){W=this._screenHeight-(ac+ad)}this.expandCssLayer(Y,X,{width:aa,height:0,bottom:W,left:ab,right:Z},{height:ad});break;case n.expandRight:if(Y.data("useright")){ab=(this._screenWidth-aa)-Z}this.expandCssLayer(Y,X,{width:0,height:ad,top:ac,bottom:W,left:ab},{width:aa});break;case n.expandLeft:if(!Y.data("useright")){Z=this._screenWidth-(ab+aa)}this.expandCssLayer(Y,X,{width:0,height:ad,top:ac,bottom:W,right:Z},{width:aa});break;case n.moveDown:if(Y.data("usebottom")){this.moveCssLayer(Y,X,{width:aa,height:ad,bottom:this._screenHeight,left:ab,right:Z},{bottom:W})}else{this.moveCssLayer(Y,X,{width:aa,height:ad,top:-ad,left:ab,right:Z},{top:ac})}break;case n.moveUp:if(Y.data("usebottom")){this.moveCssLayer(Y,X,{width:aa,height:ad,bottom:-ad,left:ab,right:Z},{bottom:W})}else{this.moveCssLayer(Y,X,{width:aa,height:ad,top:this._screenHeight,left:ab,right:Z},{top:ac})}break;case n.moveRight:if(Y.data("useright")){this.moveCssLayer(Y,X,{width:aa,height:ad,top:ac,bottom:W,right:this._screenWidth},{right:Z})}else{this.moveCssLayer(Y,X,{width:aa,height:ad,top:ac,bottom:W,left:-aa},{left:ab})}break;case n.moveLeft:if(Y.data("useright")){this.moveCssLayer(Y,X,{width:aa,height:ad,top:ac,bottom:W,right:-aa},{right:Z})}else{this.moveCssLayer(Y,X,{width:aa,height:ad,top:ac,bottom:W,left:this._screenWidth},{left:ab})}break;default:this.showCssLayer(Y,X,{top:ac,bottom:W,left:ab,right:Z,width:aa,height:ad,opacity:1})}};L.prototype.resetLayers=function(X){var W=X.data.elem;clearTimeout(W._syncId);clearTimeout(W._layerId);W._layerId=null;W._syncId=null;W._$layers.stop(true,true);W._$layers.each(function(Z){var Y=D(this);if(Y.is(":visible")){Y.fadeOut(P)}})};L.prototype.resetCssLayers=function(X){var W=X.data.elem;clearTimeout(W._syncId);W._syncId=null;W._$layers.cssTransitionStop(true);W._$layers.each(function(Z){var Y=D(this);if(Y.is(":visible")){Y.cssTransition({opacity:0},P,"",0,function(){D(this).css({display:"none"})})}})};L.prototype.expandLayer=function(X,W,Z,Y){W.find(">div.inner-text").html("");W.stop(true,true).css({top:"",bottom:"",left:"",right:""}).css(Z).show().animate(Y,X.data("duration"),X.data("easing"),function(){D(this).find(">div.inner-text").html(X.html())})};L.prototype.moveLayer=function(X,W,Z,Y){W.find(">div.inner-text").html(X.html());W.stop(true,true).css({top:"",bottom:"",left:"",right:""}).css(Z).show().animate(Y,X.data("duration"),X.data("easing"))};L.prototype.fadeInLayer=function(X,W,Y){W.find(">div.inner-text").html(X.html());W.stop(true,true).css(Y).fadeIn(X.data("duration"),X.data("easing"),function(){if(A){D(this).find(">div.inner-text").get(0).style.removeAttribute("filter")}})};L.prototype.showLayer=function(X,W,Y){W.find(">div.inner-text").html(X.html());W.stop(true,true).css(Y).show()};L.prototype.expandCssLayer=function(X,W,Z,Y){W.find(">div.inner-text").html("");W.css({top:"",bottom:"",left:"",right:"",opacity:1}).css(Z).show();W.cssTransition(Y,X.data("duration"),X.data("easing"),X.data("delay"),function(){D(this).find(">div.inner-text").html(X.html())})};L.prototype.moveCssLayer=function(X,W,Z,Y){W.find(">div.inner-text").html(X.html());W.css({top:"",bottom:"",left:"",right:"",opacity:1}).css(Z).show();W.cssTransition(Y,X.data("duration"),X.data("easing"),X.data("delay"))};L.prototype.fadeInCssLayer=function(X,W,Y){W.find(">div.inner-text").html(X.html());W.css(Y).show();W.cssTransition({opacity:1},X.data("duration"),X.data("easing"),X.data("delay"))};L.prototype.showCssLayer=function(X,W,Y){W.find(">div.inner-text").html(X.html());W.css(Y).show()};L.prototype.displayLayers=function(X){var W=X.data.elem;W._$rotator.unbind(E).bind(E,{elem:W},W.updateLayers).trigger(E)};L.prototype.hideLayers=function(X){var W=X.data.elem;W._$rotator.unbind(E).trigger(e)};L.prototype.displayCssLayers=function(X){var W=X.data.elem;W._$rotator.unbind(E).bind(E,{elem:W},W.updateCssLayers).trigger(E)};L.prototype.loadContent=function(Z){var X=this._$items[Z];this._$rotator.trigger(e).trigger(r);if(this._playOnce){this.pauseLast(Z)}this._$thumbs.filter(".curr-thumb").removeClass("curr-thumb");this._$thumbs.eq(Z).addClass("curr-thumb");this._delay=X.data("delay");if(!this._textSync){this._$rotator.trigger(E)}if(this._$mainLink){var W=X.data("href");if(W){var ab=X.data("target");this._$mainLink.unbind("click",I).css("cursor","pointer").attr({href:W,target:ab})}else{this._$mainLink.click(I).css("cursor","default")}}if(X.data("complete")){this._$preloader.hide();this.displayContent(X.data("img"))}else{var aa=this;var Y=X.data("img");Y.one("load",function(){aa._$preloader.hide();if(!X.data("complete")){aa.storeImg(X,D(this))}aa.displayContent(D(this))}).error(function(){});this._$preloader.show();Y.attr("src",X.data("imgurl"));if(Y[0].complete||Y[0].readyState=="complete"){Y.trigger("load")}}};L.prototype.displayContent=function(X){if(this._vStripeEffect){this._vStripes.clear()}if(this._hStripeEffect){this._hStripes.clear()}if(this._blockEffect){this._blocks.clear()}if(this._vStripeEffect||this._hStripeEffect||this._blockEffect){this.setPrevious()}var W=this._$items[this._currIndex];var Y=W.data("effect");var Z=W.data("duration");var aa=W.data("easing");if(Y==u.none||(typeof Y=="undefined")){this.showContent(X);return}else{if(Y==u.fade){this.fadeInContent(X,Z,aa);return}else{if(Y==u.crossFade){this.xfadeContent(X,Z,aa);return}else{if(Y==u.horizontalSlide){this.slideContent(X,"left",this._screenWidth,Z,aa);return}else{if(Y==u.verticalSlide){this.slideContent(X,"top",this._screenHeight,Z,aa);return}}}}}if(Y==u.random){Y=Math.floor(Math.random()*(o-6))}if(Y<=u.spiralOut){this._blocks.displayContent(X,Y,Z,aa)}else{if(Y<=u.verticalSliceRandomFade){this._vStripes.displayContent(X,Y,Z,aa)}else{this._hStripes.displayContent(X,Y,Z,aa)}}};L.prototype.setPrevious=function(){if(this._prevIndex>=0){var X=this._$mainLink.find("img#curr-img").data("src");var Y=this._$items[this._prevIndex].data("imgurl");if(X!=Y){this._$mainLink.find("img.main-img").attr("id","").hide();var W=this._$mainLink.find("img.main-img").filter(function(){return D(this).data("src")==Y});W.eq(0).show()}}};L.prototype.showContent=function(W){if(this._textSync){this._$rotator.trigger(E)}this._$mainLink.find("img.main-img").attr("id","").hide();W.attr("id","curr-img").show();this.startTimer()};L.prototype.fadeInContent=function(W,Y,Z){var X=this;this._$mainLink.find("img#curr-img").stop(true,true);this._$mainLink.find("img.main-img").attr("id","").css("z-index",0);W.attr("id","curr-img").stop(true,true).css({opacity:0,"z-index":1}).show().animate({opacity:1},Y,Z,function(){X._$mainLink.find("img.main-img:not('#curr-img')").hide();X.startTimer()});if(this._textSync){this._syncId=setTimeout(function(){X._$rotator.trigger(E)},Y)}};L.prototype.xfadeContent=function(X,Z,aa){var Y=this;var W=this._$mainLink.find("img#curr-img");this._$mainLink.find("img.main-img").attr("id","").css("z-index",0);W.stop(true,true).animate({opacity:0},Z,aa);X.attr("id","curr-img").stop(true,true).css({opacity:0,"z-index":1}).show().animate({opacity:1},Z,aa,function(){Y._$mainLink.find("img.main-img:not('#curr-img')").hide();Y.startTimer()});if(this._textSync){this._syncId=setTimeout(function(){Y._$rotator.trigger(E)},Z)}};L.prototype.slideContent=function(af,ad,ab,Z,ac){this._$strip.stop(true,true);var Y=D("#curr-img",this._$strip);if(Y.length>0){this._$strip.find(".main-img").attr("id","").closest(".content-box").css({top:0,left:0});af.attr("id","curr-img").closest(".content-box").css("visibility","visible");var W,ae;if(this._dir==T){this._$strip.css(ad,-ab);W=Y;ae=0}else{W=af;ae=-ab}W.closest(".content-box").css(ad,ab);var X=(ad=="top")?{top:ae}:{left:ae};var aa=this;this._$strip.stop(true,true).animate(X,Z,ac,function(){aa._$strip.find(".main-img:not('#curr-img')").closest(".content-box").css("visibility","hidden");aa._$strip.find("#curr-img").closest(".content-box").css("visibility","visible");W.closest(".content-box").css({top:0,left:0});aa._$strip.css({top:0,left:0});aa.startTimer()});if(this._textSync){this._syncId=setTimeout(function(){aa._$rotator.trigger(E)},Z)}}else{this._$strip.css({top:0,left:0});this._$strip.find(".main-img").closest(".content-box").css({visibility:"hidden",top:0,left:0});af.attr("id","curr-img").closest(".content-box").css("visibility","visible");if(this._textSync){this._$rotator.trigger(E)}this.startTimer()}};L.prototype.loadImg=function(X){try{var W=this._$items[X];var Z=W.data("img");var aa=this;Z.one("load",function(){if(!W.data("complete")){aa.storeImg(W,D(this))}X++;if(X<aa._numItems){aa.loadImg(X)}}).error(function(){X++;if(X<aa._numItems){aa.loadImg(X)}});Z.attr("src",W.data("imgurl"));if(Z[0].complete||Z[0].readyState=="complete"){Z.trigger("load")}}catch(Y){}};L.prototype.loadAll=function(){var Z=this;for(var Y=0;Y<this._$items.length;Y++){var W=this._$items[Y];var X=W.data("img");X.one("load",{elem:W},function(aa){var ab=aa.data.elem;if(!ab.data("complete")){Z.storeImg(ab,D(this))}});X.attr("src",W.data("imgurl"));if(X[0].complete||X[0].readyState=="complete"){X.trigger("load")}}};L.prototype.storeImg=function(X,Z){if(this._slideTransition){var W=X.find(">a").eq(1);if(0<W.length){Z.wrap(W)}}if(this._autoCenter){this.centerImg(Z)}var aa=Z.attr("src");if(typeof(aa)!="undefined"){var Y=aa.indexOf("?");if(Y>=0){aa=aa.substring(0,Y)}Z.data("src",aa)}X.data("complete",true)};L.prototype.centerImg=function(X){var Y=X.width();var W=X.height();if(Y>0&&W>0){X.css({top:(this._screenHeight-W)/2,left:(this._screenWidth-Y)/2})}};L.prototype.startTimer=function(){if(this._rotate&&this._timerId===null){var W=this;var X=Math.round(this._$timer.data("pct")*this._delay);this._$timer.stop(true).animate({width:(this._screenWidth+1)},X,"linear");this._timerId=setTimeout(function(Y){W._dir=w;W.resetTimer();W._prevIndex=W._currIndex;W._currIndex=(W._currIndex<W._numItems-1)?(W._currIndex+1):0;W.loadContent(W._currIndex)},X)}};L.prototype.resetTimer=function(){clearTimeout(this._timerId);this._timerId=null;this._$timer.stop(true).width(0).data("pct",1)};L.prototype.pauseTimer=function(){clearTimeout(this._timerId);this._timerId=null;this._$timer.stop(true);var W=1-(this._$timer.width()/(this._screenWidth+1));this._$timer.data("pct",W)};L.prototype.stopList=function(W){W.data.elem._$list.stop(true)};L.prototype.shuffleItems=function(){var Y=this._$thumbs.toArray();for(var Z=0;Z<this._numItems;Z++){var W=Math.floor(Math.random()*this._numItems);var X=Y[Z];Y[Z]=Y[W];Y[W]=X}for(var Z=0;Z<this._numItems;Z++){this._$list.append(D(Y[Z]))}this._$thumbs=this._$list.find(">li")};L.prototype.checkEffect=function(W){if(W==u.random){this._blockEffect=this._hStripeEffect=this._vStripeEffect=true}else{if(W<=u.spiralOut){this._blockEffect=true}else{if(W<=u.verticalSliceRandomFade){this._vStripeEffect=true}else{if(W<=u.horizontalSliceRandomFade){this._hStripeEffect=true}}}}};L.prototype.maximizeImage=function(Y,aa,ad){if("auto"===aa&&"auto"===ad){return}var ac,Z=Y.width(),W=Y.height();if(0==Z||0==W){return}if("auto"===ad){ac=aa/Z;Z=aa;W*=ac;ad=W}else{if("auto"===aa){ac=ad/W;W=ad;Z*=ac;aa=Z}else{var X=aa/Z;var ab=ad/W;ac=(ab>X)?ab:X;Z*=ac;W*=ac}}Y.css({width:Z,height:W,left:Math.round((aa-Z)/2),top:Math.round((ad-W)/2)})};L.prototype.getMaxLayers=function(){var W=this._$thumbs.map(function(){return D(this).find(">div:hidden").not(".tt-text").length}).get();W.sort(function(Y,X){return X-Y});return W[0]};L.prototype.mouseScrollContent=function(X){var W=X.data.elem;if(!W._$strip.is(":animated")){var Y=(typeof X.originalEvent.wheelDelta=="undefined")?-X.originalEvent.detail:X.originalEvent.wheelDelta;Y>0?W.prevImg():W.nextImg()}return false};function I(){return false}function k(W,X){W=parseInt(W);if(!isNaN(W)&&W>0){return W}return X}function g(W,X){W=parseInt(W);if(!isNaN(W)&&W>=0){return W}return X}function t(W){if(typeof W=="string"){W=W.toLowerCase();if(W=="true"){return true}else{return false}}return false}function R(Y,X,Z){for(var W=0;W<X.length;W++){if(X[W]==Y){return Y}}return Z}function f(W,X){if("undefined"!=(typeof W)){return W}return X}function S(X,W){return X.indexOf(W,X.length-W.length)!==-1}function H(ac,Z){var ab=["Moz","Webkit"];Z=Z||document.documentElement;var aa=Z.style,W;if(typeof aa[ac]=="string"){return ac}ac=ac.charAt(0).toUpperCase()+ac.slice(1);for(var Y=0,X=ab.length;Y<X;Y++){W=ab[Y]+ac;if(typeof aa[W]=="string"){return W}}return false}function b(W){if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var X=new Number(RegExp.$1);if(X<=W){return true}}return false}function s(W){var aa=W.length;for(var Z=0;Z<aa;Z++){var X=Math.floor(Math.random()*aa);var Y=W[Z];W[Z]=W[X];W[X]=Y}}D.fn.cssTransition=function(Y,Z,ab,X,aa){var W=D.isFunction(aa);return this.each(function(){if(W){D(this).one(Q[y],aa)}D(this).css(M[y],"all "+Z+"ms "+O[ab]+" "+X+"ms").css(Y)})};D.fn.cssTransitionStop=function(W){return this.each(function(){if(W){D(this).trigger(Q[y])}D(this).css(M[y],"none")})};D.fn.wtRotator=function(W){D(this).bannerRotator(W)};D.fn.bannerRotator=function(Y){var X={width:"auto",height:"auto",thumb_width:24,thumb_height:24,button_width:24,button_height:24,margin:4,tooltip_width:"auto",tooltip_height:"auto",background_image:"",background_repeat:"repeat",background_position:"center center",auto_start:true,delay:d,play_once:false,pause_onmouseover:false,effect:"fade",duration:B,easing:"",block_size:G,vslice_size:F,hslice_size:F,block_delay:25,vslice_delay:75,hslice_delay:75,cpanel_align:"BR",outside_cpanel:false,cpanel_onmouseover:false,thumb_type:"number",select_onmouseover:false,tooltip_type:"text",tooltip_delay:0,dbuttons_type:"small",dbuttons_onmouseover:false,display_playbutton:true,display_timer:true,timer_align:"top",text_effect:"fade",text_duration:500,text_easing:"",text_delay:0,text_onmouseover:false,text_sync:true,center_image:true,preload:true,shuffle:false,mousewheel:true,swipe:true,css_transition:true};var W=D.extend({},X,Y);return this.each(function(){var Z=new L(D(this),W)})}})(jQuery)